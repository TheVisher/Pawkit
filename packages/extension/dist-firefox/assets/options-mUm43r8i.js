import{r as n,j as e,a as L,k as E,d as h,C as m,e as x,l as u,m as P,f as g,L as w,i as S,B as o,E as O,h as A,g as I}from"./index-ecxL3Ide.js";const N=n.forwardRef(({className:l,orientation:a="horizontal",decorative:r=!0,...i},c)=>e.jsx("div",{ref:c,role:r?"none":"separator","aria-orientation":a,className:L("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",l),...i}));N.displayName="Separator";const k="https://www.getpawkit.com";function T(){const[l,a]=n.useState(null),[r,i]=n.useState(null),[c,p]=n.useState(!0),[j,d]=n.useState("");n.useEffect(()=>{f()},[]);const f=async()=>{var t;p(!0),d("");try{const s=await h.runtime.sendMessage({type:"CHECK_AUTH"});a(s.ok),(t=s.user)!=null&&t.email&&i(s.user.email),!s.ok&&s.error&&d(s.error)}catch(s){console.error("Failed to check auth:",s),a(!1),d("Failed to check authentication status")}finally{p(!1)}},b=()=>{window.open(k,"_blank")},v=async()=>{try{await h.runtime.sendMessage({type:"INITIATE_LOGIN"})}catch(t){console.error("Failed to initiate login:",t)}},C=async()=>{try{await h.runtime.sendMessage({type:"LOGOUT"}),a(!1),i(null)}catch(t){console.error("Failed to logout:",t)}};return e.jsx("div",{className:"min-h-screen bg-background p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Pawkit Web Clipper Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Save pages to your Pawkit with one click"})]}),e.jsx(N,{}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(u,{children:"Authentication Status"}),e.jsx(P,{children:"Log in once and save pages from anywhere"})]}),e.jsx(g,{children:c?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(w,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Checking authentication..."})]}):l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"You are logged in"})]}),r&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as ",e.jsx("span",{className:"font-medium",children:r})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now save pages to Pawkit from any website."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",onClick:b,children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Open Pawkit"]}),e.jsxs(o,{variant:"ghost",onClick:C,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Log in to Pawkit to start saving pages, articles, and links."}),j&&e.jsx("div",{className:"text-sm text-amber-400 bg-amber-400/10 border border-amber-400/20 rounded p-2",children:j}),e.jsxs(o,{onClick:v,className:"w-full bg-gradient-to-r from-[#6d5cff] to-[#a36bff] hover:from-[#5d4cef] hover:to-[#9358ef]",size:"lg",children:[e.jsx(I,{className:"mr-2 h-5 w-5"}),"Log in to Pawkit"]}),e.jsxs(o,{variant:"ghost",onClick:f,className:"w-full",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Check again"]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(u,{children:"How to use"})}),e.jsxs(g,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsxs("li",{children:['Click "Log in to Pawkit" above (or log in at ',e.jsx("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"getpawkit.com"}),")"]}),e.jsx("li",{children:'Once logged in, come back here and click "Check again" if needed'}),e.jsx("li",{children:"Click the extension icon on any page to save it to Pawkit"}),e.jsx("li",{children:'Or right-click any page or link and select "Save to Pawkit"'})]}),e.jsxs("p",{className:"mt-4 pt-4 border-t border-border",children:[e.jsx("strong",{children:"Tip:"})," You can also pick a custom thumbnail from any page and add notes before saving."]})]})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(u,{children:"About"})}),e.jsxs(g,{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:"Pawkit Web Clipper securely stores your login session. Once you log in, you can save pages from anywhere without needing to keep Pawkit open. Your session stays active until you log out."}),e.jsx("p",{className:"mt-2",children:"Version 1.2.0"})]})]})]})})}const y=document.getElementById("root");if(!y)throw new Error('Root element with id="root" not found in DOM');E.createRoot(y).render(e.jsx(T,{}));
