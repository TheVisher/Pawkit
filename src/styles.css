@import "tailwindcss";
@import "tw-animate-css";

@plugin "tailwind-scrollbar-hide";

@custom-variant dark (&:is(.dark *));

@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --font-sans: var(--font-geist-sans);
    --font-mono: var(--font-geist-mono);
    /* Pawkit text hierarchy */
    --color-text-primary: var(--color-text-primary);
    --color-text-secondary: var(--color-text-secondary);
    --color-text-muted: var(--color-text-muted);
    /* Pawkit surface backgrounds */
    --color-bg-base: var(--color-bg-base);
    --color-bg-surface-1: var(--color-bg-surface-1);
    --color-bg-surface-2: var(--color-bg-surface-2);
    --color-bg-surface-3: var(--color-bg-surface-3);
    /* Pawkit borders */
    --color-border-subtle: var(--color-border-subtle);
    --color-border-default: var(--color-border-default);
    --color-sidebar-ring: var(--sidebar-ring);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar: var(--sidebar);
    --color-chart-5: var(--chart-5);
    --color-chart-4: var(--chart-4);
    --color-chart-3: var(--chart-3);
    --color-chart-2: var(--chart-2);
    --color-chart-1: var(--chart-1);
    --color-ring: var(--ring);
    --color-input: var(--input);
    --color-border: var(--border);
    --color-destructive: var(--destructive);
    --color-accent-foreground: var(--accent-foreground);
    --color-accent: var(--accent);
    --color-muted-foreground: var(--muted-foreground);
    --color-muted: var(--muted);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-secondary: var(--secondary);
    --color-primary-foreground: var(--primary-foreground);
    --color-primary: var(--primary);
    --color-popover-foreground: var(--popover-foreground);
    --color-popover: var(--popover);
    --color-card-foreground: var(--card-foreground);
    --color-card: var(--card);
    --color-brand: var(--color-accent);
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    --radius-2xl: calc(var(--radius) + 8px);
    --radius-3xl: calc(var(--radius) + 12px);
    --radius-4xl: calc(var(--radius) + 16px);
    --color-highlight: var(--highlight);
}

:root {
    --font-geist-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --font-geist-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --radius: 0.625rem;
    --background: oklch(1 0 0);
    --foreground: oklch(0.141 0.005 285.823);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.141 0.005 285.823);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.141 0.005 285.823);
    --primary: oklch(0.21 0.006 285.885);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.967 0.001 286.375);
    --secondary-foreground: oklch(0.21 0.006 285.885);
    --muted: oklch(0.967 0.001 286.375);
    --muted-foreground: oklch(0.552 0.016 285.938);
    --accent: oklch(0.967 0.001 286.375);
    --accent-foreground: oklch(0.21 0.006 285.885);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.92 0.004 286.32);
    --input: oklch(0.92 0.004 286.32);
    --ring: oklch(0.705 0.015 286.067);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.141 0.005 285.823);
    --sidebar-primary: oklch(0.21 0.006 285.885);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.967 0.001 286.375);
    --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
    --sidebar-border: oklch(0.92 0.004 286.32);
    --sidebar-ring: oklch(0.705 0.015 286.067);
    --highlight: oklch(0.852 0.199 91.936);
    --brand: oklch(0.623 0.214 259.815);
}

.dark {
    --background: oklch(0.141 0.005 285.823);
    --foreground: oklch(0.985 0 0);
    --card: oklch(0.21 0.006 285.885);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(0.21 0.006 285.885);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.92 0.004 286.32);
    --primary-foreground: oklch(0.21 0.006 285.885);
    --secondary: oklch(0.274 0.006 286.033);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(0.274 0.006 286.033);
    --muted-foreground: oklch(0.705 0.015 286.067);
    --accent: oklch(0.274 0.006 286.033);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.704 0.191 22.216);
    --border: oklch(1 0 0 / 10%);
    --input: oklch(1 0 0 / 15%);
    --ring: oklch(0.552 0.016 285.938);
    --chart-1: oklch(0.488 0.243 264.376);
    --chart-2: oklch(0.696 0.17 162.48);
    --chart-3: oklch(0.769 0.188 70.08);
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);
    --sidebar: oklch(0.21 0.006 285.885);
    --sidebar-foreground: oklch(0.985 0 0);
    --sidebar-primary: oklch(0.488 0.243 264.376);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.274 0.006 286.033);
    --sidebar-accent-foreground: oklch(0.985 0 0);
    --sidebar-border: oklch(1 0 0 / 10%);
    --sidebar-ring: oklch(0.552 0.016 285.938);
    --highlight: oklch(0.852 0.199 91.936);
    --brand: oklch(0.707 0.165 254.624);
}

/* =============================================================================
   PAWKIT THEMING SYSTEM
   ============================================================================= */

:root {
    /* Accent color */
    --hue-accent: 270;
    --sat-accent: 60%;
    --light-accent: 55%;
    --color-accent: hsl(var(--hue-accent) var(--sat-accent) var(--light-accent));
    --color-accent-hover: hsl(var(--hue-accent) var(--sat-accent) calc(var(--light-accent) + 10%));

    /* Tag colors - light mode (pastel backgrounds, dark text) */
    --tag-saturation: 65%;
    --tag-lightness: 88%;
    --tag-text-saturation: 70%;
    --tag-text-lightness: 30%;
}

/* Dark theme semantic colors - only apply when .dark class is present */
.dark {
    /* Tag colors - dark mode (muted backgrounds, light text) */
    --tag-saturation: 50%;
    --tag-lightness: 25%;
    --tag-text-saturation: 70%;
    --tag-text-lightness: 85%;

    --color-bg-base: hsl(0 0% 4%);
    --color-bg-surface-1: hsl(0 0% 9%);
    --color-bg-surface-2: hsl(0 0% 13%);
    --color-bg-surface-3: hsl(0 0% 17%);

    /* Dashboard gradient background */
    --bg-gradient-base: #0a0814;
    --bg-gradient-image:
        radial-gradient(
            1200px circle at 12% 0%,
            rgba(122, 92, 250, 0.28),
            rgba(10, 8, 20, 0)
        ),
        radial-gradient(
            900px circle at 88% 8%,
            rgba(122, 92, 250, 0.18),
            rgba(10, 8, 20, 0)
        ),
        radial-gradient(
            600px circle at 25% 90%,
            rgba(122, 92, 250, 0.14),
            rgba(10, 8, 20, 0)
        ),
        linear-gradient(160deg, rgba(10, 8, 20, 0.96), rgba(5, 5, 12, 1));

    --color-text-primary: hsl(0 0% 95%);
    --color-text-secondary: hsl(0 0% 70%);
    --color-text-muted: hsl(
        240 4% 46%
    ); /* zinc-500 - hints, tips, shortcuts, de-emphasized icons */

    --color-border-subtle: hsl(0 0% 15%);
    --color-border-default: hsl(0 0% 20%);

    /* Panel border highlights for depth */
    --color-border-highlight-top: hsl(0 0% 100% / 0.08);
    --color-border-highlight-left: hsl(0 0% 100% / 0.05);

    /* Purple glow shadows */
    --shadow-1: 0 2px 8px hsl(270 50% 15% / 0.4);
    --shadow-2:
        0 4px 16px hsl(270 50% 15% / 0.5), 0 0 32px hsl(270 50% 30% / 0.2);
    --shadow-3:
        0 8px 32px hsl(270 50% 15% / 0.6), 0 0 48px hsl(270 50% 30% / 0.3);

    /* ==========================================================================
     GLASS MORPHISM TOKENS - DARK MODE
     Change these values to update glass styling app-wide
     ========================================================================== */

    /* Glass backgrounds - layered opacity for depth */
    --glass-bg: hsl(0 0% 100% / 0.1);
    --glass-bg-hover: hsl(0 0% 100% / 0.15);
    --glass-bg-active: hsl(0 0% 100% / 0.2);

    /* Glass panel/modal background (darker base) */
    --glass-panel-bg: hsl(0 0% 8% / 0.8);

    /* Glass borders */
    --glass-border: hsl(0 0% 100% / 0.15);
    --glass-border-hover: hsl(0 0% 100% / 0.25);

    /* Glass blur effect */
    --glass-blur: 20px;
    --glass-saturate: 1.2;

    /* Glass shadow (for panels/modals) */
    --glass-shadow:
        0 8px 16px hsl(0 0% 0% / 0.5), 0 16px 32px hsl(0 0% 0% / 0.3);

    /* Card shadow - subtle in dark mode */
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);

    /* Panel inset shadow opacity (for center panel edges) */
    --panel-inset-opacity: 0.35;
}

/* Light theme semantic colors */
.light {
    --color-bg-base: hsl(0 0% 98%);
    --color-bg-surface-1: hsl(0 0% 100%);
    --color-bg-surface-2: hsl(0 0% 96%);
    --color-bg-surface-3: hsl(0 0% 92%);

    /* Dashboard gradient background */
    --bg-gradient-base: #f5f0fa;
    --bg-gradient-image:
        radial-gradient(
            1200px circle at 12% 0%,
            rgba(168, 85, 247, 0.15),
            rgba(245, 240, 250, 0)
        ),
        radial-gradient(
            900px circle at 88% 8%,
            rgba(168, 85, 247, 0.12),
            rgba(245, 240, 250, 0)
        ),
        radial-gradient(
            600px circle at 25% 90%,
            rgba(168, 85, 247, 0.08),
            rgba(245, 240, 250, 0)
        ),
        linear-gradient(
            160deg,
            rgba(250, 245, 255, 0.96),
            rgba(245, 240, 250, 1)
        );

    --color-text-primary: hsl(0 0% 9%);
    --color-text-secondary: hsl(0 0% 35%);
    --color-text-muted: hsl(0 0% 55%);

    --color-border-subtle: hsl(0 0% 88%);
    --color-border-default: hsl(0 0% 82%);

    /* Panel border highlights for depth */
    --color-border-highlight-top: hsl(0 0% 100% / 0.8);
    --color-border-highlight-left: hsl(0 0% 100% / 0.6);

    /* Purple glow shadows (lighter for light mode) */
    --shadow-1: 0 2px 8px hsl(270 50% 50% / 0.15);
    --shadow-2:
        0 4px 16px hsl(270 50% 50% / 0.2), 0 0 32px hsl(270 50% 60% / 0.1);
    --shadow-3:
        0 8px 32px hsl(270 50% 50% / 0.25), 0 0 48px hsl(270 50% 60% / 0.15);

    /* ==========================================================================
     GLASS MORPHISM TOKENS - LIGHT MODE
     ========================================================================== */

    /* Glass backgrounds - darker overlays on light backgrounds */
    --glass-bg: hsl(0 0% 0% / 0.04);
    --glass-bg-hover: hsl(0 0% 0% / 0.07);
    --glass-bg-active: hsl(0 0% 0% / 0.1);

    /* Glass panel/modal background (light with higher opacity for readability) */
    --glass-panel-bg: hsl(0 0% 100% / 0.9);

    /* Glass borders */
    --glass-border: hsl(0 0% 0% / 0.1);
    --glass-border-hover: hsl(0 0% 0% / 0.18);

    /* Glass blur effect - higher blur for light mode */
    --glass-blur: 24px;

    /* Glass shadow (softer for light mode) */
    --glass-shadow:
        0 8px 16px hsl(0 0% 0% / 0.1), 0 16px 32px hsl(0 0% 0% / 0.06);

    /* Card shadow - more visible in light mode to create contrast */
    --card-shadow:
        0 2px 12px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.06);

    /* Panel inset shadow opacity (for center panel edges) */
    --panel-inset-opacity: 0.15;
}

/* ==========================================================================
   FLAT/MODERN VISUAL STYLE OVERRIDES
   When .visual-style-flat is applied, disable glass effects
   ========================================================================== */

html.visual-style-flat.dark {
    /* Flat backgrounds - solid colors */
    --glass-bg: hsl(0 0% 18%);
    --glass-bg-hover: hsl(0 0% 22%);
    --glass-bg-active: hsl(0 0% 26%);

    /* Flat panel background (solid) */
    --glass-panel-bg: hsl(0 0% 12%);

    /* Flat borders (more visible) */
    --glass-border: hsl(0 0% 22%);
    --glass-border-hover: hsl(0 0% 28%);

    /* Disable blur effect */
    --glass-blur: 0px;
    --glass-saturate: 1;

    /* Flat shadow (simpler, no glow) */
    --glass-shadow: 0 4px 12px hsl(0 0% 0% / 0.4);

    /* Flat card shadow */
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);

    /* Surface colors for flat style */
    --color-bg-surface-1: hsl(0 0% 10%);
    --color-bg-surface-2: hsl(0 0% 14%);
    --color-bg-surface-3: hsl(0 0% 18%);

    /* Cleaner borders */
    --color-border-subtle: hsl(0 0% 18%);
    --color-border-default: hsl(0 0% 24%);

    /* Remove purple glow shadows */
    --shadow-1: 0 2px 8px hsl(0 0% 0% / 0.3);
    --shadow-2: 0 4px 16px hsl(0 0% 0% / 0.4);
    --shadow-3: 0 8px 32px hsl(0 0% 0% / 0.5);
}

html.visual-style-flat.light {
    /* Flat backgrounds - solid colors */
    --glass-bg: hsl(0 0% 96%);
    --glass-bg-hover: hsl(0 0% 92%);
    --glass-bg-active: hsl(0 0% 88%);

    /* Flat panel background (solid white) */
    --glass-panel-bg: hsl(0 0% 100%);

    /* Flat borders (more visible) */
    --glass-border: hsl(0 0% 88%);
    --glass-border-hover: hsl(0 0% 80%);

    /* Disable blur effect */
    --glass-blur: 0px;
    --glass-saturate: 1;

    /* Flat shadow (simpler, no glow) */
    --glass-shadow: 0 4px 12px hsl(0 0% 0% / 0.08);

    /* Flat card shadow */
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

    /* Surface colors for flat style */
    --color-bg-surface-1: hsl(0 0% 100%);
    --color-bg-surface-2: hsl(0 0% 97%);
    --color-bg-surface-3: hsl(0 0% 94%);

    /* Cleaner borders */
    --color-border-subtle: hsl(0 0% 90%);
    --color-border-default: hsl(0 0% 85%);

    /* Remove purple glow shadows */
    --shadow-1: 0 2px 8px hsl(0 0% 0% / 0.06);
    --shadow-2: 0 4px 16px hsl(0 0% 0% / 0.08);
    --shadow-3: 0 8px 32px hsl(0 0% 0% / 0.1);
}

/* ==========================================================================
   HIGH CONTRAST VISUAL STYLE
   Accessibility-focused theme with maximum contrast and visibility
   WCAG AAA compliant (7:1+ contrast ratios)
   ========================================================================== */

html.visual-style-high-contrast.dark {
    /* Pure black background */
    --color-bg-base: hsl(0 0% 0%) !important;
    --color-bg-surface-1: hsl(0 0% 0%) !important;
    --color-bg-surface-2: hsl(0 0% 8%) !important;
    --color-bg-surface-3: hsl(0 0% 12%) !important;

    /* High contrast backgrounds */
    --glass-bg: hsl(0 0% 15%) !important;
    --glass-bg-hover: hsl(0 0% 22%) !important;
    --glass-bg-active: hsl(0 0% 28%) !important;
    --glass-panel-bg: hsl(0 0% 0%) !important;

    /* Bright, visible borders - thicker appearance */
    --glass-border: hsl(0 0% 60%) !important;
    --glass-border-hover: hsl(0 0% 80%) !important;
    --color-border-subtle: hsl(0 0% 50%) !important;
    --color-border-default: hsl(0 0% 100%) !important;

    /* No blur - crisp edges */
    --glass-blur: 0px !important;
    --glass-saturate: 1 !important;

    /* No soft shadows - clear definition with thicker borders */
    --glass-shadow: 0 0 0 2px hsl(0 0% 100%) !important;
    --shadow-1: none !important;
    --shadow-2: none !important;
    --shadow-3: none !important;
    --card-shadow: 0 0 0 2px hsl(0 0% 50%) !important;

    /* Pure white text - muted text brighter for readability */
    --color-text-primary: hsl(0 0% 100%) !important;
    --color-text-secondary: hsl(0 0% 95%) !important;
    --color-text-muted: hsl(0 0% 70%) !important; /* 7:1+ contrast on black */

    /* Bright accent for visibility */
    --light-accent: 75% !important;
    --sat-accent: 100% !important;

    /* Tags - high contrast variant */
    --tag-saturation: 100% !important;
    --tag-lightness: 25% !important;
    --tag-text-saturation: 100% !important;
    --tag-text-lightness: 95% !important;

    /* Remove gradient backgrounds */
    --bg-gradient-base: #000000 !important;
    --bg-gradient-image: none !important;
}

html.visual-style-high-contrast.light {
    /* Pure white background */
    --color-bg-base: hsl(0 0% 100%) !important;
    --color-bg-surface-1: hsl(0 0% 100%) !important;
    --color-bg-surface-2: hsl(0 0% 96%) !important;
    --color-bg-surface-3: hsl(0 0% 92%) !important;

    /* High contrast backgrounds */
    --glass-bg: hsl(0 0% 90%) !important;
    --glass-bg-hover: hsl(0 0% 82%) !important;
    --glass-bg-active: hsl(0 0% 75%) !important;
    --glass-panel-bg: hsl(0 0% 100%) !important;

    /* Dark, visible borders - thicker appearance */
    --glass-border: hsl(0 0% 35%) !important;
    --glass-border-hover: hsl(0 0% 20%) !important;
    --color-border-subtle: hsl(0 0% 40%) !important;
    --color-border-default: hsl(0 0% 0%) !important;

    /* No blur - crisp edges */
    --glass-blur: 0px !important;
    --glass-saturate: 1 !important;

    /* No soft shadows - clear definition with thicker borders */
    --glass-shadow: 0 0 0 2px hsl(0 0% 0%) !important;
    --shadow-1: none !important;
    --shadow-2: none !important;
    --shadow-3: none !important;
    --card-shadow: 0 0 0 2px hsl(0 0% 40%) !important;

    /* Pure black text - muted text darker for readability */
    --color-text-primary: hsl(0 0% 0%) !important;
    --color-text-secondary: hsl(0 0% 5%) !important;
    --color-text-muted: hsl(0 0% 25%) !important; /* 7:1+ contrast on white */

    /* Darker accent for visibility on light bg */
    --light-accent: 35% !important;
    --sat-accent: 100% !important;

    /* Tags - high contrast variant */
    --tag-saturation: 100% !important;
    --tag-lightness: 85% !important;
    --tag-text-saturation: 100% !important;
    --tag-text-lightness: 15% !important;

    /* Remove gradient backgrounds */
    --bg-gradient-base: #ffffff !important;
    --bg-gradient-image: none !important;
}

/* High contrast link styling - always underlined for visibility */
html.visual-style-high-contrast a:not([class*="no-underline"]) {
    text-decoration: underline !important;
    text-underline-offset: 2px !important;
}

html.visual-style-high-contrast a:hover:not([class*="no-underline"]) {
    text-decoration-thickness: 2px !important;
}

/* High contrast focus indicators */
html.visual-style-high-contrast *:focus-visible {
    outline: 3px solid var(--color-accent) !important;
    outline-offset: 2px !important;
}

/* ==========================================================================
   HIGH CONTRAST - INPUT FIELDS
   Make all input fields clearly visible
   ========================================================================== */
html.visual-style-high-contrast.dark input,
html.visual-style-high-contrast.dark textarea {
    background: hsl(0 0% 12%) !important;
    border: 2px solid hsl(0 0% 40%) !important;
    color: hsl(0 0% 100%) !important;
}

html.visual-style-high-contrast.dark input:focus,
html.visual-style-high-contrast.dark textarea:focus {
    border-color: var(--color-accent) !important;
    box-shadow: 0 0 0 3px hsl(var(--hue-accent) 100% 50% / 0.3) !important;
}

html.visual-style-high-contrast.dark input::placeholder,
html.visual-style-high-contrast.dark textarea::placeholder {
    color: hsl(0 0% 60%) !important;
    opacity: 1 !important;
}

html.visual-style-high-contrast.light input,
html.visual-style-high-contrast.light textarea {
    background: hsl(0 0% 100%) !important;
    border: 2px solid hsl(0 0% 50%) !important;
    color: hsl(0 0% 0%) !important;
}

html.visual-style-high-contrast.light input:focus,
html.visual-style-high-contrast.light textarea:focus {
    border-color: var(--color-accent) !important;
    box-shadow: 0 0 0 3px hsl(var(--hue-accent) 100% 35% / 0.3) !important;
}

html.visual-style-high-contrast.light input::placeholder,
html.visual-style-high-contrast.light textarea::placeholder {
    color: hsl(0 0% 40%) !important;
    opacity: 1 !important;
}

/* ==========================================================================
   HIGH CONTRAST - BUTTON OVERRIDES
   Ensure buttons are clearly visible
   ========================================================================== */
html.visual-style-high-contrast.dark [data-slot="button"][data-variant="default"] {
    background: hsl(var(--hue-accent) 100% 30%) !important;
    color: hsl(0 0% 100%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 50%) !important;
    font-weight: 600 !important;
}

html.visual-style-high-contrast.dark [data-slot="button"][data-variant="default"]:hover {
    background: hsl(var(--hue-accent) 100% 40%) !important;
}

html.visual-style-high-contrast.dark [data-slot="button"][data-variant="ghost"],
html.visual-style-high-contrast.dark [data-slot="button"][data-variant="outline"] {
    border: 2px solid hsl(0 0% 40%) !important;
    color: hsl(0 0% 100%) !important;
}

html.visual-style-high-contrast.dark [data-slot="button"][data-variant="ghost"]:hover,
html.visual-style-high-contrast.dark [data-slot="button"][data-variant="outline"]:hover {
    background: hsl(0 0% 20%) !important;
    border-color: hsl(0 0% 60%) !important;
}

html.visual-style-high-contrast.light [data-slot="button"][data-variant="default"] {
    background: hsl(var(--hue-accent) 100% 35%) !important;
    color: hsl(0 0% 100%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 25%) !important;
    font-weight: 600 !important;
}

html.visual-style-high-contrast.light [data-slot="button"][data-variant="ghost"],
html.visual-style-high-contrast.light [data-slot="button"][data-variant="outline"] {
    border: 2px solid hsl(0 0% 50%) !important;
    color: hsl(0 0% 0%) !important;
}

html.visual-style-high-contrast.dark [data-slot="card"] {
    border: 2px solid hsl(0 0% 35%) !important;
}

html.visual-style-high-contrast.light [data-slot="card"] {
    border: 2px solid hsl(0 0% 60%) !important;
}

/* ==========================================================================
   HIGH CONTRAST - EMPTY STATES
   Make empty state text clearly visible (remove opacity modifiers)
   ========================================================================== */
html.visual-style-high-contrast .text-text-muted\/50,
html.visual-style-high-contrast .text-text-muted\/70,
html.visual-style-high-contrast [class*="text-muted"][class*="/"] {
    opacity: 1 !important;
    color: var(--color-text-muted) !important;
}

/* Empty state icons - make more visible */
html.visual-style-high-contrast.dark svg[class*="text-muted"] {
    opacity: 1 !important;
    color: hsl(0 0% 55%) !important;
}

html.visual-style-high-contrast.light svg[class*="text-muted"] {
    opacity: 1 !important;
    color: hsl(0 0% 40%) !important;
}

/* ==========================================================================
   HIGH CONTRAST - WIDGET CARDS
   Make widget backgrounds more visible against page background
   ========================================================================== */
html.visual-style-high-contrast.dark .bg-bg-surface-2 {
    background: hsl(0 0% 10%) !important;
    border: 2px solid hsl(0 0% 30%) !important;
}

html.visual-style-high-contrast.dark .bg-bg-surface-3,
html.visual-style-high-contrast.dark .bg-bg-surface-3\/50 {
    background: hsl(0 0% 15%) !important;
}

html.visual-style-high-contrast.light .bg-bg-surface-2 {
    background: hsl(0 0% 96%) !important;
    border: 2px solid hsl(0 0% 60%) !important;
}

html.visual-style-high-contrast.light .bg-bg-surface-3,
html.visual-style-high-contrast.light .bg-bg-surface-3\/50 {
    background: hsl(0 0% 90%) !important;
}

/* ==========================================================================
   HIGH CONTRAST - CALENDAR EVENTS
   Better text truncation and visibility for calendar event items
   ========================================================================== */
html.visual-style-high-contrast .truncate {
    text-overflow: ellipsis !important;
}

/* Calendar event items - ensure visibility */
html.visual-style-high-contrast.dark [class*="event-item"],
html.visual-style-high-contrast.dark [class*="EventItem"] {
    border-left-width: 3px !important;
}

/* ==========================================================================
   HIGH CONTRAST - OMNIBAR/SEARCH FOCUS
   Strong focus indicator for search bar
   ========================================================================== */
html.visual-style-high-contrast.dark .omnibar-container:focus-within {
    border: 2px solid var(--color-accent) !important;
    box-shadow: 0 0 0 4px hsl(var(--hue-accent) 100% 50% / 0.25) !important;
}

html.visual-style-high-contrast.light .omnibar-container:focus-within {
    border: 2px solid var(--color-accent) !important;
    box-shadow: 0 0 0 4px hsl(var(--hue-accent) 100% 35% / 0.25) !important;
}

/* ==========================================================================
   HIGH CONTRAST - FILTER TOGGLE BUTTONS
   Stronger active states for content type filters and similar buttons
   ========================================================================== */
/* Active filter buttons - make them pop more */
html.visual-style-high-contrast.dark [class*="bg-\[var\(--color-accent\)\]\/10"] {
    background: hsl(var(--hue-accent) 100% 25%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 50%) !important;
    color: hsl(0 0% 100%) !important;
}

/* Inactive filter buttons - visible border */
html.visual-style-high-contrast.dark .bg-bg-surface-2:not([class*="accent"]) {
    border: 1px solid hsl(0 0% 35%) !important;
}

html.visual-style-high-contrast.light [class*="bg-\[var\(--color-accent\)\]\/10"] {
    background: hsl(var(--hue-accent) 100% 90%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 35%) !important;
    color: hsl(0 0% 0%) !important;
}

/* ==========================================================================
   HIGH CONTRAST - MINI CALENDAR TODAY HIGHLIGHT
   Make today's date stand out prominently
   ========================================================================== */
html.visual-style-high-contrast.dark [class*="bg-brand"] {
    background: hsl(var(--hue-accent) 100% 30%) !important;
    color: hsl(0 0% 100%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 60%) !important;
    font-weight: 700 !important;
}

html.visual-style-high-contrast.light [class*="bg-brand"] {
    background: hsl(var(--hue-accent) 100% 85%) !important;
    color: hsl(0 0% 0%) !important;
    border: 2px solid hsl(var(--hue-accent) 100% 40%) !important;
    font-weight: 700 !important;
}

/* ==========================================================================
   HIGH CONTRAST - DAY CELL BORDERS
   Calendar grid cells more visible
   ========================================================================== */
html.visual-style-high-contrast.dark .border-border-subtle\/50 {
    border-color: hsl(0 0% 35%) !important;
}

html.visual-style-high-contrast.light .border-border-subtle\/50 {
    border-color: hsl(0 0% 50%) !important;
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }
    body {
        @apply bg-background text-foreground;
    }
}

/* ==========================================================================
   SEMANTIC COLOR UTILITIES
   These provide convenience classes that map to our CSS variable system
   ========================================================================== */
@layer utilities {
    /* Text colors */
    .text-primary {
        color: var(--color-text-primary);
    }
    .text-secondary {
        color: var(--color-text-secondary);
    }
    .text-muted {
        color: var(--color-text-muted);
    }

    /* Background colors */
    .bg-surface-1 {
        background: var(--color-bg-surface-1);
    }
    .bg-surface-2 {
        background: var(--color-bg-surface-2);
    }
    .bg-surface-3 {
        background: var(--color-bg-surface-3);
    }

    /* Tab button states */
    .tab-active {
        background: linear-gradient(
            to bottom,
            var(--color-bg-surface-3) 0%,
            var(--color-bg-surface-2) 100%
        );
        box-shadow:
            var(--shadow-1),
            0 0 20px oklch(0.6 0.2 270 / 0.3);
        border-color: oklch(0.6 0.2 270 / 0.5);
        color: var(--color-accent);
    }

    .tab-inactive {
        background: var(--color-bg-surface-1);
        box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
        border-color: var(--color-border-subtle);
        color: var(--color-text-secondary);
    }

    /* Safe area utilities for mobile */
    .safe-area-pb {
        padding-bottom: env(safe-area-inset-bottom);
    }

    .safe-area-pt {
        padding-top: env(safe-area-inset-top);
    }
}

:root {
    --mobile-nav-height: 0px;
}

@media (max-width: 767px) {
    :root {
        --mobile-nav-height: calc(4rem + env(safe-area-inset-bottom));
    }
}

/* ==========================================================================
   MASONRY CARD ANIMATIONS
   ========================================================================== */

/* Simple fade-in for new cards - no transforms to avoid layout conflicts */
@keyframes card-enter {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

.animate-card-enter {
    animation: card-enter 300ms ease-out forwards;
}

/* ==========================================================================
   NOTE CARD PREVIEW STYLES
   Styles for rendering markdown/HTML content in card previews
   ========================================================================== */

.note-card-preview {
    line-height: 1.4;
}

.note-card-preview h1,
.note-card-preview h2,
.note-card-preview h3 {
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: 0.25rem;
    margin-top: 0.5rem;
}

.note-card-preview h1:first-child,
.note-card-preview h2:first-child,
.note-card-preview h3:first-child {
    margin-top: 0;
}

.note-card-preview h1 {
    font-size: 1rem;
}
.note-card-preview h2 {
    font-size: 0.9rem;
}
.note-card-preview h3 {
    font-size: 0.85rem;
}

.note-card-preview p {
    margin-bottom: 0.35rem;
}

.note-card-preview ul,
.note-card-preview ol {
    padding-left: 1.25rem;
    margin-bottom: 0.35rem;
}

.note-card-preview ul {
    list-style-type: disc;
}

.note-card-preview ol {
    list-style-type: decimal;
}

.note-card-preview li {
    margin-bottom: 0.15rem;
}

.note-card-preview li::marker {
    color: var(--color-text-muted);
}

.note-card-preview blockquote {
    border-left: 2px solid var(--color-accent);
    padding-left: 0.5rem;
    margin: 0.35rem 0;
    font-style: italic;
    opacity: 0.9;
}

.note-card-preview code {
    background: var(--glass-bg);
    padding: 0.1rem 0.3rem;
    border-radius: 0.25rem;
    font-size: 0.8em;
}

.note-card-preview pre {
    background: var(--glass-bg);
    padding: 0.5rem;
    border-radius: 0.375rem;
    overflow: hidden;
    font-size: 0.75rem;
    margin: 0.35rem 0;
}

.note-card-preview hr {
    border: none;
    border-top: 1px solid var(--glass-border);
    margin: 0.5rem 0;
}

.note-card-preview a {
    color: var(--color-accent);
    text-decoration: underline;
}

/* Task list in preview */
.note-card-preview ul[data-type="taskList"] {
    list-style: none;
    padding-left: 0;
}

.note-card-preview ul[data-type="taskList"] li {
    display: flex;
    align-items: flex-start;
    gap: 0.35rem;
}

.note-card-preview ul[data-type="taskList"] input[type="checkbox"] {
    margin-top: 0.2rem;
    pointer-events: none;
}

/* ==========================================================================
   ARTICLE READER CONTENT STYLES
   Typography styles for extracted article content display
   ========================================================================== */

.article-reader-content {
    font-size: 1.125rem;
    line-height: 1.75;
    color: var(--color-text-primary);
}

/* Paragraphs */
.article-reader-content p {
    margin-bottom: 1.5rem;
}

.article-reader-content p:last-child {
    margin-bottom: 0;
}

/* Headings */
.article-reader-content h1,
.article-reader-content h2,
.article-reader-content h3,
.article-reader-content h4,
.article-reader-content h5,
.article-reader-content h6 {
    font-weight: 700;
    color: var(--color-text-primary);
    margin-top: 2rem;
    margin-bottom: 1rem;
    line-height: 1.3;
}

.article-reader-content h1 { font-size: 2rem; }
.article-reader-content h2 { font-size: 1.5rem; }
.article-reader-content h3 { font-size: 1.25rem; }
.article-reader-content h4 { font-size: 1.125rem; }

.article-reader-content h1:first-child,
.article-reader-content h2:first-child,
.article-reader-content h3:first-child {
    margin-top: 0;
}

/* Lists */
.article-reader-content ul,
.article-reader-content ol {
    margin-bottom: 1.5rem;
    padding-left: 1.75rem;
}

.article-reader-content ul {
    list-style-type: disc;
}

.article-reader-content ol {
    list-style-type: decimal;
}

.article-reader-content li {
    margin-bottom: 0.5rem;
}

.article-reader-content li::marker {
    color: var(--color-text-muted);
}

/* Blockquotes - accent color left border */
.article-reader-content blockquote {
    border-left: 4px solid var(--color-accent);
    padding-left: 1.25rem;
    margin: 1.5rem 0;
    font-style: italic;
    color: var(--color-text-secondary);
}

.article-reader-content blockquote p {
    margin-bottom: 0.75rem;
}

.article-reader-content blockquote p:last-child {
    margin-bottom: 0;
}

/* Links */
.article-reader-content a {
    color: var(--color-accent);
    text-decoration: underline;
    text-underline-offset: 2px;
}

.article-reader-content a:hover {
    opacity: 0.8;
}

/* Code */
.article-reader-content code {
    background: var(--glass-bg);
    padding: 0.2rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.9em;
    font-family: var(--font-mono);
}

.article-reader-content pre {
    background: var(--color-bg-surface-2);
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1.5rem 0;
    font-size: 0.875rem;
}

.article-reader-content pre code {
    background: none;
    padding: 0;
    font-size: inherit;
}

/* Images */
.article-reader-content img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
    margin: 1.5rem 0;
}

/* Keep editor gutter controls inside the content panel so they don't get clipped */
.content-panel-editor .slate-gutterLeft {
    transform: translateX(0) !important;
}

.article-reader-content figure {
    margin: 1.5rem 0;
}

.article-reader-content figcaption {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    text-align: center;
    margin-top: 0.5rem;
}

/* Horizontal rules */
.article-reader-content hr {
    border: none;
    border-top: 1px solid var(--color-border-subtle);
    margin: 2rem 0;
}

/* Tables */
.article-reader-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    font-size: 0.95rem;
}

.article-reader-content th,
.article-reader-content td {
    border: 1px solid var(--color-border-subtle);
    padding: 0.75rem;
    text-align: left;
}

.article-reader-content th {
    background: var(--color-bg-surface-2);
    font-weight: 600;
}

/* Strong and emphasis */
.article-reader-content strong {
    font-weight: 700;
}

.article-reader-content em {
    font-style: italic;
}

/* ==========================================================================
   REACT-GRID-LAYOUT WIDGET DASHBOARD
   Custom styles for the draggable/resizable widget grid on the home page
   ========================================================================== */

/* Widget grid container */
.widget-grid {
    /* Remove default react-grid-layout transitions for smoother feel */
}

/* Widget container - the wrapper for each widget */
.widget-container {
    border-radius: var(--radius-lg);
    overflow: hidden;
}

/* When dragging a widget - make it pop */
.react-grid-item.react-draggable-dragging {
    z-index: 100;
    box-shadow: var(--shadow-3);
    opacity: 0.95;
    cursor: grabbing !important;
}

/* Placeholder that shows where widget will drop */
.react-grid-item.react-grid-placeholder {
    background: var(--color-accent) !important;
    opacity: 0.15 !important;
    border-radius: var(--radius-lg);
    transition: all 100ms ease;
}

/* Resize handle styling */
.react-resizable-handle {
    position: absolute;
    width: 28px;
    height: 28px;
    bottom: 4px;
    right: 4px;
    cursor: se-resize;
    z-index: 10;
    border-radius: var(--radius-md);
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    opacity: 0;
    transition: opacity 150ms ease, background 150ms ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Show resize handle on widget hover */
.react-grid-item:hover .react-resizable-handle {
    opacity: 1;
}

/* Resize handle grip dots pattern */
.react-resizable-handle::before {
    content: '';
    width: 10px;
    height: 10px;
    background-image: radial-gradient(circle, var(--color-text-muted) 1.5px, transparent 1.5px);
    background-size: 4px 4px;
    background-position: 0 0;
    opacity: 0.6;
}

.react-resizable-handle:hover {
    background: var(--glass-bg-hover);
}

.react-resizable-handle:hover::before {
    opacity: 1;
}

.react-resizable-handle:active {
    background: var(--color-accent);
}

.react-resizable-handle:active::before {
    background-image: radial-gradient(circle, white 1.5px, transparent 1.5px);
    opacity: 1;
}

/* While resizing */
.react-grid-item.resizing {
    z-index: 100;
}

/* Remove transition during drag/resize for smoother feel */
.react-grid-item.cssTransforms {
    transition: transform 150ms ease;
}

.react-grid-item.react-draggable-dragging,
.react-grid-item.resizing {
    transition: none !important;
}

/* High contrast mode adjustments */
html.visual-style-high-contrast .react-grid-placeholder {
    background: var(--color-accent) !important;
    opacity: 0.3 !important;
    border: 2px dashed var(--color-accent) !important;
}

html.visual-style-high-contrast .react-resizable-handle {
    opacity: 1;
    background: var(--glass-bg);
    border: 2px solid var(--color-text-muted);
}

html.visual-style-high-contrast .react-resizable-handle::before {
    opacity: 1;
}

/* Tweet embeds - compact grid styling */
.tweet-compact .react-tweet-theme article {
    padding: 0 !important;
}

.tweet-compact .react-tweet-theme article > * {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.tweet-compact .react-tweet-theme {
    --tweet-container-margin: 0px;
    --tweet-body-margin: 0px;
    --tweet-quoted-container-margin: 0px;
    --tweet-quoted-body-margin: 0px;
    --tweet-border: 0px solid transparent;
    --tweet-bg-color: transparent;
    --tweet-bg-color-hover: transparent;
    --tweet-font-color: var(--color-text-primary);
    --tweet-font-color-secondary: var(--color-text-muted);
    --tweet-color-blue-primary: var(--color-accent);
    --tweet-color-blue-primary-hover: var(--color-accent);
    --tweet-color-blue-secondary: var(--color-accent);
    --tweet-color-blue-secondary-hover: var(--color-accent);
    --tweet-twitter-icon-color: transparent;
}

.tweet-compact [class*="header"] {
    padding-bottom: 0 !important;
}

.tweet-compact [class*="brand"],
.tweet-compact [class*="follow"] {
    display: none !important;
}

.tweet-compact [class*="media"] {
    margin-top: 0 !important;
}

.tweet-compact [class*="in-reply-to"],
.tweet-compact [class*="quoted"] {
    margin: 0 !important;
}

.tweet-compact [class*="actions"],
.tweet-compact [class*="info"],
.tweet-compact [class*="replies"],
.tweet-compact [class*="watchOnTwitter"],
.tweet-compact [class*="viewReplies"] {
    display: none !important;
}

.tweet-compact a,
.tweet-compact button {
    pointer-events: none;
}

.tweet-compact video,
.tweet-compact [class*="videoButton"] {
    pointer-events: auto;
}
