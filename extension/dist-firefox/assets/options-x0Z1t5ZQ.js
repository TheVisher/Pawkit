import{c as C,r as n,j as e,a as E,i as L,d as h,C as x,e as m,k as u,l as P,f as p,L as f,h as S,B as o,E as O,g as I}from"./index-DZeXwrQw.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=C("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),w=n.forwardRef(({className:c,orientation:t="horizontal",decorative:r=!0,...i},l)=>e.jsx("div",{ref:l,role:r?"none":"separator","aria-orientation":t,className:E("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",c),...i}));w.displayName="Separator";const T="https://www.getpawkit.com";function M(){const[c,t]=n.useState(null),[r,i]=n.useState(null),[l,g]=n.useState(!0),[j,d]=n.useState("");n.useEffect(()=>{k()},[]);const k=async()=>{var a;g(!0),d("");try{const s=await h.runtime.sendMessage({type:"CHECK_AUTH"});t(s.ok),(a=s.user)!=null&&a.email&&i(s.user.email),!s.ok&&s.error&&d(s.error)}catch(s){console.error("Failed to check auth:",s),t(!1),d("Failed to check authentication status")}finally{g(!1)}},N=()=>{window.open(T,"_blank")},v=async()=>{try{await h.runtime.sendMessage({type:"INITIATE_LOGIN"})}catch(a){console.error("Failed to initiate login:",a)}},b=async()=>{try{await h.runtime.sendMessage({type:"LOGOUT"}),t(!1),i(null)}catch(a){console.error("Failed to logout:",a)}};return e.jsx("div",{className:"min-h-screen bg-background p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Pawkit Web Clipper Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Save pages to your Pawkit with one click"})]}),e.jsx(w,{}),e.jsxs(x,{children:[e.jsxs(m,{children:[e.jsx(u,{children:"Authentication Status"}),e.jsx(P,{children:"Connect with an extension token to save pages from anywhere"})]}),e.jsx(p,{children:l?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Checking authentication..."})]}):c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"You are logged in"})]}),r&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as ",e.jsx("span",{className:"font-medium",children:r})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now save pages to Pawkit from any website."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",onClick:N,children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Open Pawkit"]}),e.jsxs(o,{variant:"ghost",onClick:b,children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your extension token to start saving pages, articles, and links."}),j&&e.jsx("div",{className:"text-sm text-amber-400 bg-amber-400/10 border border-amber-400/20 rounded p-2",children:j}),e.jsxs(o,{onClick:v,className:"w-full bg-gradient-to-r from-[#6d5cff] to-[#a36bff] hover:from-[#5d4cef] hover:to-[#9358ef]",size:"lg",children:[e.jsx(A,{className:"mr-2 h-5 w-5"}),"Open Pawkit Settings"]}),e.jsxs(o,{variant:"ghost",onClick:k,className:"w-full",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Check again"]})]})})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(u,{children:"How to use"})}),e.jsxs(p,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsx("li",{children:"Open Pawkit settings and generate an Extension Token"}),e.jsx("li",{children:"Paste the token into the extension popup"}),e.jsx("li",{children:"Click the extension icon on any page to save it to Pawkit"}),e.jsx("li",{children:'Or right-click any page or link and select "Save to Pawkit"'})]}),e.jsxs("p",{className:"mt-4 pt-4 border-t border-border",children:[e.jsx("strong",{children:"Tip:"})," You can also pick a custom thumbnail from any page and add notes before saving."]})]})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(u,{children:"About"})}),e.jsxs(p,{className:"text-sm text-muted-foreground",children:[e.jsx("p",{children:"Pawkit Web Clipper stores an extension token so you can save pages without keeping Pawkit open. You can revoke or regenerate the token anytime from Pawkit settings."}),e.jsx("p",{className:"mt-2",children:"Version 1.2.0"})]})]})]})})}const y=document.getElementById("root");if(!y)throw new Error('Root element with id="root" not found in DOM');L.createRoot(y).render(e.jsx(M,{}));
